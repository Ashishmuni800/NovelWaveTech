@{
    ViewData["Title"] = "Password Change";
}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
<style>
    body {
        background: linear-gradient(to right, #e0c3fc, #8ec5fc);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .card {
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        border: none;
        border-radius: 15px;
    }

    .form-control:focus {
        border-color: #6f42c1;
        box-shadow: 0 0 0 0.2rem rgba(111, 66, 193, 0.25);
    }

    .input-group-text {
        background-color: #f8f9fa;
        border: none;
    }

    #img-captcha {
        height: 38px;
        width: auto;
        border: 1px solid #ced4da;
        border-radius: 4px;
    }

    .header-title {
        background: #6f42c1;
        color: white;
        border-radius: 15px 15px 0 0;
        padding: 1rem 0;
    }

        .header-title h3 {
            margin: 0;
        }

    .btn-primary {
        background-color: #6f42c1;
        border-color: #6f42c1;
    }

        .btn-primary:hover {
            background-color: #5b34a9;
            border-color: #5b34a9;
        }

    .input-icon {
        position: absolute;
        left: 10px;
        top: 50%;
        transform: translateY(-50%);
        color: #aaa;
    }

    .input-group .form-control {
        padding-left: 35px;
    }
</style>

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <div class="card">
                <div class="header-title text-center">
                    <h3><i class="fa fa-key me-2"></i>Change Password</h3>
                </div>
                <div class="card-body p-4">
                    <form id="passwordForm">
                        <input type="hidden" id="Id" value="USER_ID_HERE">

                        <div class="mb-3">
                            <label>Username</label>
                            <input type="text" id="userName" class="form-control">
                        </div>

                        <div class="mb-3">
                            <label>Current Password</label>
                            <div class="input-group">
                                <input type="password" id="password" class="form-control" maxlength="32" min="8">
                                <span class="input-group-text">
                                    <i class="fa fa-eye toggle-password" data-toggle="#password"></i>
                                </span>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label>New Password</label>
                            <div class="input-group">
                                <input type="password" id="newPassword" class="form-control" maxlength="32" min="8">
                                <span class="input-group-text">
                                    <i class="fa fa-eye toggle-password" data-toggle="#newPassword"></i>
                                </span>
                            </div>
                            <div id="passwordStrength" class="progress mt-1" style="height: 5px;">
                                <div class="progress-bar" role="progressbar" style="width: 0%;"></div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label>Confirm New Password</label>
                            <div class="input-group">
                                <input type="password" id="confirmNewPassword" class="form-control" maxlength="32" min="8">
                                <span class="input-group-text">
                                    <i class="fa fa-eye toggle-password" data-toggle="#confirmNewPassword"></i>
                                </span>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Captcha</label>
                            <div class="input-group">
                                <img id="img-captcha" src="@ViewBag.URLs" alt="captcha" onclick="loadCaptcha()" />
                                <button class="btn btn-outline-secondary" type="button" id="captchaRefresh" title="Refresh Captcha">
                                    <i class="fa fa-sync-alt"></i>
                                </button>
                            </div>
                            <input type="text" class="form-control mt-2" id="CaptchaCode" name="CaptchaCode" maxlength="6" min="6" placeholder="Enter Captcha" required />
                        </div>

                        <div id="statusMessage" class="mb-3"></div>

                        <button type="submit" class="btn btn-primary">
                            <span class="spinner-border spinner-border-sm me-2 d-none" id="submitSpinner"></span>
                            Change Password
                        </button>
                    </form>

                </div>
            </div>
        </div>
    </div>
</div>
<script src="~/js/site.js"></script>